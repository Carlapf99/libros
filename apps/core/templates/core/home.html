{% extends 'base.html' %}
{% block title %}Inicio{% endblock %}
{% block meta_description %}Página oficial del autor con novedades y libro destacado.{% endblock %}
{% block content %}
<section class="hero hero-elevated">
  <p class="eyebrow">Web oficial</p>
  <h1>{{ profile.full_name|default:'Autor invitado' }}</h1>
  <blockquote>“{{ profile.hero_quote|default:'La literatura transforma la forma de mirar el mundo.' }}”</blockquote>
  <div class="hero-stats">
    <div class="stat-card"><strong>{{ stats.books }}</strong><span>Libros</span></div>
    <div class="stat-card"><strong>{{ stats.posts }}</strong><span>Artículos</span></div>
  </div>
</section>

<section class="section-heading">
  <h2>Novedad</h2>
</section>

{% if featured_book %}
<article class="book-highlight card">
  {% if featured_book.cover %}
  <img src="{{ featured_book.cover.url }}" alt="Portada {{ featured_book.title }}">
  {% else %}
  <div class="placeholder-cover">Sin portada</div>
  {% endif %}
  <div>
    <h3>{{ featured_book.title }}</h3>
    <p>{{ featured_book.synopsis|truncatechars:220 }}</p>
    <a class="btn" href="{{ featured_book.get_absolute_url }}">Ver libro</a>
  </div>
</article>
{% else %}
<p>Aún no hay libros destacados. Puedes crear uno en el panel de <a class="text-link" href="{% url 'admin:index' %}">administración</a>.</p>
{% endif %}

<section class="section-heading top-space">
  <h2>Últimos artículos</h2>
</section>
<section class="post-grid">
  {% for post in latest_posts %}
    <article class="card post-card">
      <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
      <p>{{ post.excerpt|default:post.content|truncatechars:140 }}</p>
      <a class="text-link" href="{{ post.get_absolute_url }}">Leer más</a>
    </article>
  {% empty %}
    <p>Todavía no hay artículos publicados.</p>
  {% endfor %}
</section>
{% endblock %}
